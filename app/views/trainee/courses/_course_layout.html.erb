<div class="course-detail-page">
  <!-- Course Overall Info (A) -->
  <div class="course-info-header">
    <div class="course-thumbnail">
      <% if @course.image.attached? %>
        <%= image_tag @course.image, alt: @course.name, class: "course-image" %>
      <% else %>
        <div class="default-thumbnail">
          <i class="fas fa-graduation-cap"></i>
        </div>
      <% end %>
    </div>

    <div class="course-details">
      <h1 class="course-title"><%= @course.name %></h1>

      <div class="course-status">
        <span class="status-badge status-<%= @course.status %>">
          <%= t("enums.course.status.#{@course.status}") %>
        </span>
      </div>

      <div class="course-dates">
        <%= @course.start_date.strftime(Settings.formats.date) %> â†’
        <%= @course.finish_date.strftime(Settings.formats.date) %>
        <% if @course.finish_date < Date.current %>
          <span class="date-indicator finished">(<%= t("courses.show.expected") %>)</span>
        <% end %>
      </div>

      <div class="course-creator">
        <%= t("courses.show.created_by") %> <%= @course.user.name %>
      </div>

      <div class="last-updated">
        <%= t("courses.show.last_updated") %>:
        <%= @course.updated_at.strftime(Settings.formats.datetime) %>
      </div>
    </div>
  </div>

  <!-- Tabs (B) -->
  <div class="course-tabs">
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <%= link_to subjects_trainee_course_path(@course),
            class: "nav-link #{"active" if action_name == "subjects"}" do %>
          <%= t("courses.show.tabs.subjects") %> (<%= @subject_count %>)
        <% end %>
      </li>
      <li class="nav-item">
        <%= link_to members_trainee_course_path(@course),
            class: "nav-link #{"active" if action_name == "members"}" do %>
          <%= t("courses.show.tabs.members") %> (<%= @trainee_count + (@trainer_count || Settings.defaults.count) %>)
        <% end %>
      </li>
    </ul>
  </div>

  <!-- Tab Content -->
  <div class="tab-content">
    <%= yield %>
  </div>
</div>
